import{W as a,aa as b}from"./index-dae3c301.js";function v(l,f=[]){let i,d=[];return l.$on=(t,o)=>{let s=()=>{};if(f.includes(t)){const e=l.$$.callbacks[t]||(l.$$.callbacks[t]=[]);return e.push(o),()=>{const r=e.indexOf(o);r!==-1&&e.splice(r,1)}}return i?s=i(t,o):d.push([t,o]),()=>s()},t=>{const o=[],s={},e=r=>b(l,r);i=(r,u)=>{const h=a(t,r,u,!1),c=()=>{h();const n=o.indexOf(c);n>-1&&o.splice(n,1)};return o.push(c),r in s||(s[r]=a(t,r,e)),c};for(const r of d)i(r[0],r[1]);return{destroy:()=>{for(const r of o)r();for(let r of Object.entries(s))r[1]()}}}}export{v as c};
