<style>
  .demo{padding:var(--gutter-md);border:1px dashed var(--color-border);font-size:var(--font-md);color:var(--color-foreground)}
  .panel{border:1px solid var(--color-border);padding:var(--gutter-sm);margin:var(--gutter-sm) 0;background:var(--color-card);color:var(--color-card-foreground)}
</style>

<h2>slotDemo — démonstration `<slot>`</h2>
<p>Ce composant montre un `slot` nommé `header` et un slot par défaut.</p>

<div id="slot-demo" class="demo"></div>

<script type="module" lang="ts">
  import { core } from '$lib/core-engine.ts';

  const template = `
    <section class="panel">
      <header><slot name="header">Header fallback</slot></header>
      <div class="body"><slot>Default fallback content</slot></div>
      <footer><small>footer</small></footer>
    </section>
  `;

  const container = document.getElementById('slot-demo');
  if (!container) throw new Error('missing container');

  // Example: inject named slot and default slot (allowHtml=true to insert markup)
  const frag = (core as any).renderHtmlWithSlots(template, {
    header: '<h3>Injected header HTML</h3>',
    default: '<p><strong>Injected</strong> default content</p>'
  }, { allowHtml: true });

  container.appendChild(frag);
</script>
