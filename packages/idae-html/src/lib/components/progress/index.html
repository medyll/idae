<style>
  body{font-family:system-ui,Arial,sans-serif;padding:16px}
  .bar{width:100%;background:#eee;height:18px;border-radius:9px;overflow:hidden}
  .fill{height:100%;background:linear-gradient(90deg,#4caf50,#8bc34a);width:0%}
  .spinner{width:32px;height:32px;border-radius:50%;border:4px solid #eee;border-top-color:#3498db;animation:spin 1s linear infinite}
  @keyframes spin{to{transform:rotate(360deg)}}
</style>

<h1>Progress / Spinner</h1>
<div class="card">
  <h3>Determinate</h3>
  <div class="bar"><div id="fill" class="fill"></div></div>
  <button id="start">Start</button>
</div>

<div class="card">
  <h3>Indeterminate spinner</h3>
  <div id="spin" class="spinner" aria-hidden="false"></div>
  <button id="toggle">Toggle spinner</button>
</div>

<script type="module">
  import { be, app } from '/packages/idae-html/src/lib/core-engine.ts';
  const fillBe = be('#fill');
  let p = 0; let interval = null;
  be('#start').on('click', ()=>{
    p = 0; fillBe.setStyle({ width: '0%' }); clearInterval(interval);
    interval = setInterval(()=>{ p += 5; fillBe.setStyle({ width: p + '%' }); if (p>=100) clearInterval(interval); }, 200);
  });

  const spinBe = be('#spin');
  be('#toggle').on('click', ()=>{
    const spinEl = spinBe.node as HTMLElement;
    const show = spinEl.style.display === 'none' ? 'inline-block' : 'none';
    spinBe.setStyle({ display: show });
  });
</script>
