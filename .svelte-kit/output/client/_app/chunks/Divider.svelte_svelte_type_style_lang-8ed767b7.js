import{O as u,U as h}from"./vendor-7533cb4a.js";function O(i,d=[]){let n,c=[];return i.$on=(t,s)=>{let o=()=>{};if(d.includes(t)){const e=i.$$.callbacks[t]||(i.$$.callbacks[t]=[]);return e.push(s),()=>{const r=e.indexOf(s);r!==-1&&e.splice(r,1)}}return n?o=n(t,s):c.push([t,s]),()=>o()},t=>{const s=[],o={},e=r=>h(i,r);n=(r,a)=>{const $=u(t,r,a,!1),f=()=>{$();const l=s.indexOf(f);l>-1&&s.splice(l,1)};return s.push(f),r in o||(o[r]=u(t,r,e)),f};for(const r of c)n(r[0],r[1]);return{destroy:()=>{for(const r of s)r();for(let r of Object.entries(o))r[1]()}}}}export{O as c};
